<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
    <title>JS index!</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"   integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  </head>
    
  <body>
    
    <!-- Modal -->
    <div class="black-bg">
      <div class="white-bg">
        <h4>로그인하세요</h4>
        <form action="success.html">
           <div class="my-3">
            <input type="text" class="form-control" id="email">
           </div>
           <div class="my-3">
             <input type="password" class="form-control" id="password">
           </div>
           <button type="submit" class="btn btn-warning" id="send">전송</button>
           <button type="button" class="btn btn-danger" id="close">닫기</button>
        </form> 
      </div>
    </div>
    
      
    <!-- Navigation Menu -->  
    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">JS_Shop</span>
        <span class="badge bg-dark">Dark 🔄</span>
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>  
        
    <!-- Navigation Item -->  
    <ul class="list-group" id="test1">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item">And a fifth one</li>
    </ul>
     
    <!-- [로그인] 버튼 -->
    <div class="main-bg">
        <h4>Shirts on Sale</h4>
        <button id="login-btn" class="btn btn-danger">로그인</button>
    </div>

    <!-- 사은품 사라지는 Div -->
    <div class="alert alert-danger">
      <span id="secondNum">5</span>초 이내 구매시 사은품 증정!
    </div>

    <!-- 회원약관-->
    <div style="width: 350px; height: 150px; overflow-y: scroll;" class="lorem">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae
      voluptas voluptatum minus praesentium fugit debitis at, laborum
      ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis,
      eligendi quae consectetur praesentium exercitationem.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae
      voluptas voluptatum minus praesentium fugit debitis at, laborum
      ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis,
      eligendi quae consectetur praesentium exercitationem.
    </div>

    <!-- 캐러셀 그림-->
    <div style="overflow: hidden">
      <div class="slide-container">
        <div class="slide-box">
          <img src="car1.png">
        </div>
        <div class="slide-box">
          <img src="car2.png">
        </div>
        <div class="slide-box">
          <img src="car3.png">
        </div>
      </div>
    </div>
    
    <!-- Carousel Button HTML-->
    <button class="slide-prev btn btn-success">Prev</button>
    <button class="slide-1 btn btn-dark">1</button>
    <button class="slide-2 btn btn-dark">2</button>
    <button class="slide-3 btn btn-dark">3</button>
    <button class="slide-next btn btn-success">Next</button>
      
    
    <!-- 스크롤 생성용 긴 박스 추가-->
    <div style="height: 1000px;"></div>
    





    <!-- ***** JAVA SCRIPT ***** -->
    <script>
      $('#login-btn').on('click',function(){
          $('.black-bg').addClass('show-modal');
      });
        
      $('#close').on('click',function(){
          $('.black-bg').removeClass('show-modal');
      });
        
      document.getElementsByClassName('navbar-toggler')[0].addEventListener(
          'click',function(){
              document.getElementsByClassName('list-group')[0].classList.toggle('show');
          });
      
      // Submit JS
      $('form').on('submit',function(){
        let email = document.getElementById('email').value;
        let password = document.getElementById('password').value;

        if(email == ''){
          alert('아이디 입력 안함');
        }
        if(/\S+@\S+\.\S+/.test(email) == false){
          alert('이메일 형식이 맞지 않음')
        }

        if(password == ''){
          alert('password 입력 안함');
        }
        if(password.length < 6){
          alert('password 좀 길게요');
        }
        if(/[A-Z]/.test(password)){
          alert('대문자 빼주세여');
        }
      });

      //badge 홀수 클릭 시, 내부 글자를 Light로 변경, 짝수 클릭 시 다시 누르면 Dark로 변경
      let count = 0;

      // let은 재선언 X
      let 이름 = "kim";
      // let 이름 = "park";  불가능, var은 재선언 O

      // const는 재선언 X, 재할당 X
      const 나이 = 10;
      // 나이 = 11;     불가능, final 상수의 의미


      $('.badge').on('click',function(){
        count += 1;
        if(count % 2 == 1){
          $('.badge').html('Light 🔄');
          $('.badge').toggleClass('bg-white');
          $('.badge').css('color','black');
        } else {
          $('.badge').html('Dark 🔄');
          $('.badge').toggleClass('bg-white');
          $('.badge').css('color','white');
        }
      });

      // setTimeout(테스트함수, 3000);

      // let secondCount = 5;

      // setInterval(function(){
      //   secondCount -= 1;
      //   if(secondCount == 0){
      //     $('.alert').hide();
      //   }
      //   $('#secondNum').html(secondCount);
      // }, 1000);

      
      // Carousel JS

      let 지금사진 = 1;

      // Prev 버튼
      $('.slide-prev').on('click',function(){
        if(지금사진 == 1){
          $('.slide-container').css('transform','translateX(-200vw)');
          지금사진 = 3;
        } else if(지금사진 == 2){
          $('.slide-container').css('transform','translateX(0vw)');
          지금사진 = 1;
        } else {
          $('.slide-container').css('transform','translateX(-100vw)');
          지금사진 = 2;
        }
      });

      $('.slide-1').on('click',function(){
        $('.slide-container').css('transform','translateX(0)');
        지금사진 = 1;
      });

      $('.slide-2').on('click',function(){
        $('.slide-container').css('transform','translateX(-100vw)');
        지금사진 = 2;
      });

      $('.slide-3').on('click',function(){
        $('.slide-container').css('transform','translateX(-200vw)');
        지금사진 = 3;
      });


      // Next 버튼  
      $('.slide-next').on('click',function(){

        // if(지금사진 == 1){
        //   $('.slide-container').css('transform','translateX(-100vw)');
        //   지금사진 = 2;
        // } else if(지금사진 == 2){
        //   $('.slide-container').css('transform','translateX(-200vw)');
        //   지금사진 = 3;
        // } else {
        //   $('.slide-container').css('transform','translateX(0vw)');
        //   지금사진 = 1
        // }
        $('.slide-container').css('transform',`translateX(-${지금사진}00vw)`);
        지금사진 += 1;
        if(지금사진 == 3){
          지금사진 = 0; 
        }
      });


      // Scroll EventListener (window = html요소를 감싸고 있는 document를 감싸고 있는 가장 밖의 요소)
      // window.addEventListener('scroll',function(){
      //   console.log(window.scrollY);
      // });

      // 페이지 스크롤바 100px 내리면 로고 폰트사이즈 작게
      $(window).on('scroll',function(){
        if(window.scrollY > 100){
          $('.navbar-brand').css('font-size','20px');
        } else {
          $('.navbar-brand').css('font-size','25px');
        }
      });

      // 약관을 다 읽으면 -> div의 스크롤바 내린 양 == div의 실제 높이(px단위)
      $('.lorem').on('scroll',function(){
        // var scrollSum = document.querySelector('.lorem').scrollTop;
        //window.scrollY
        let 스크롤양 = $('.lorem').scrollTop();
        let 실제높이 = document.querySelector('.lorem').scrollHeight;
        let 높이 = document.querySelector('.lorem').clientHeight;

        // 스크롤양 + 높이 == 실제높이

        if(스크롤양 + 높이 > 실제높이 - 10){
          alert('다 읽음');
        }
      });

      /* 검은 배경 누르면, 모달창 닫는 기능*/
      $('.black-bg').on('click', function(e){

        /*
        e.target; //유저가 실제로 누른 것
        e.currentTarget; //이벤트리스너 달린 곳 == this
        e.preventDefault; //이벤트 기본동작 막아줌
        e.stopPropagation        
        */
       console.log($(e.target));
       console.log($('.black-bg'));
        if($(e.target).is($('.black-bg'))){
          $('.black-bg').removeClass('show-modal');
        }
        
      });
      


    </script>
      
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>